{"id":6,"date":"2024-08-26T16:38:32","date_gmt":"2024-08-26T16:38:32","guid":{"rendered":"http:\/\/offlineobserver.local\/?page_id=6"},"modified":"2024-08-29T17:48:55","modified_gmt":"2024-08-29T17:48:55","slug":"offline-observer","status":"publish","type":"page","link":"https:\/\/offlineobserver.local\/","title":{"rendered":"Offline Observer"},"content":{"rendered":"\n<h2 class=\"wp-block-heading has-text-align-center has-medium-font-size\">GOMOKU<\/h2>\n\n\n\n<!DOCTYPE html>\n<html lang=\u201cen\u201d>\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Gomoku Game<\/title>\n    <style>\nhtml, body {\n    margin: 0;\n    padding: 0;\n    height: 100%;\n    width: 100%;\n    background-color: transparent;\n}\n\n.game-wrapper {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n    width: 100%;\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    background-color: transparent;\n}\n\n.game-container {\n    position: relative;\n    width: 100%;\n    height: 100%;\n    max-width: 83vmin;\n    max-height: 83vmin;\n    aspect-ratio: 1 \/ 1;\n    background-color: transparent;\n}\n\n#board {\n    display: grid;\n    grid-template-columns: repeat(15, 1fr);\n    grid-template-rows: repeat(15, 1fr);\n    gap: 0;\n    width: 100%;\n    height: 100%;\n    background-color: #dcb35c;\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n    position: relative;\n    border: 2px solid #000;\n    aspect-ratio: 1 \/ 1;\n}\n\n@media (max-width: 680px) {\n    .game-container {\n        max-width: 100vw;\n        max-height: 100vw;\n    }\n}\n\n.cell {\n    position: relative;\n    cursor: pointer;\n}\n\n.cell::before,\n.cell::after {\n    content: '';\n    position: absolute;\n    background-color: black;\n    z-index: 1;\n}\n\n.cell::before {\n    left: 50%;\n    top: 0;\n    bottom: 0;\n    width: 1px;\n}\n\n.cell::after {\n    top: 50%;\n    left: 0;\n    right: 0;\n    height: 1px;\n}\n\n.stone {\n    position: absolute;\n    width: 90%;\n    height: 90%;\n    border-radius: 50%;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    z-index: 3;\n    outline: none;\n    -webkit-tap-highlight-color: transparent;\n\n}\n\n.stone.black {\n    background-color: #000!important;\n    box-shadow: 0 0 5px rgba(0, 0, 0, 0.5) !important;\n}\n\n.stone.white {\n    background-color: #fff!important;\n    box-shadow: 0 0 5px rgba(0, 0, 0, 0.3) !important;\n}\n\n.cell.last-move .stone {\n    box-shadow: 0 0 10px 2px #ffff00 !important;\n}\n\n.cell.winning-move .stone {\n    box-shadow: 0 0 10px 3px #ffff00 !important;\n}\n\n\/* \uc0c8\ub85c\uc6b4 \uc804\uc5ed \uc2a4\ud0c0\uc77c \ucd94\uac00 *\/\n* {\n    -webkit-tap-highlight-color: transparent;\n}\n\n#message {\n    position: absolute;\n    top: 10px;\n    left: 0;\n    right: 0;\n    text-align: center;\n\tz-index:5;\n    font-size: 22px;\n    color: #fff;\n}\n\n#start, #restart {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    padding: 10px 20px;\n    font-size: 18px;\n    cursor: pointer;\n    background-color: rgba(76, 175, 80, 0.6);  \/* 70% \ud22c\uba85\ub3c4 *\/\n    color: white;\n    border: none;\n    border-radius: 5px;\n    transition: background-color 0.3s;\n    z-index: 10;\n}\n\n#start:hover, #restart:hover {\n    background-color: rgba(69, 160, 73, 0.6);  \/* 70% \ud22c\uba85\ub3c4 *\/\n}\n\n#restart {\n    display: none;\n}\n\n.dot {\n    position: absolute;\n    width: 15%;\n    height: 15%;\n    background-color: #000;\n    border-radius: 50%;\n    top: 51%;\n    left: 51%;\n    transform: translate(-50%, -50%);\n    z-index: 2;\n}\n    <\/style>\n<\/head>\n<body style=\"background-color: transparent;\">\n    <div class=\"game-wrapper\">\n        <div class=\"game-container\">\n            <div id=\"board\"><\/div>\n            <button id=\"start\">START<\/button>\n            <button id=\"restart\">RESTART<\/button>\n            <div id=\"message\"><\/div>\n        <\/div>\n    <\/div>\n    <script>\n\/\/ \uc804\uc5ed \ubcc0\uc218\nconst boardSize = 15;\nconst dotPositions = [];\nlet board = Array(boardSize).fill(null).map(() => Array(boardSize).fill(null));\nlet gameOver = false;\nlet currentPlayer = 'P';\nlet lastMove = null;\n\nconst boardElement = document.getElementById('board');\nconst messageElement = document.getElementById('message');\nconst restartButton = document.getElementById('restart');\nconst startButton = document.getElementById('start');\n\n\/\/ \ubcf4\ub4dc \uc0dd\uc131 \ubc0f \ucd08\uae30\ud654\nfunction createBoard() {\n    boardElement.innerHTML = '';\n    for (let row = 0; row < boardSize; row++) {\n        for (let col = 0; col < boardSize; col++) {\n            const cell = document.createElement('div');\n            cell.className = 'cell';\n            cell.dataset.row = row;\n            cell.dataset.col = col;\n            cell.addEventListener('click', onCellClick);\n            boardElement.appendChild(cell);\n        }\n    }\n    addDotsToBoard();\n}\n\nfunction addDotsToBoard() {\n    dotPositions.forEach(position => {\n        const cell = boardElement.children[position - 1];\n        if (cell) {\n            const dot = document.createElement('div');\n            dot.className = 'dot';\n            cell.appendChild(dot);\n        }\n    });\n}\n\n\/\/ \uac8c\uc784 \ub85c\uc9c1\nfunction onCellClick(event) {\n    const row = parseInt(event.target.dataset.row);\n    const col = parseInt(event.target.dataset.col);\n\n    if (!board[row][col] && !gameOver && currentPlayer === 'P') {\n        makeMove(row, col);\n    }\n}\n\nfunction makeMove(row, col) {\n    board[row][col] = currentPlayer;\n    const cell = document.querySelector(`[data-row=\"${row}\"][data-col=\"${col}\"]`);\n    const stone = document.createElement('div');\n    stone.className = `stone ${currentPlayer === 'P' ? 'black' : 'white'}`;\n    stone.style.setProperty('background-color', currentPlayer === 'P' ? '#000' : '#fff', 'important');\n    cell.appendChild(stone);\n\n    if (lastMove && !gameOver) {\n        const lastCell = document.querySelector(`[data-row=\"${lastMove.row}\"][data-col=\"${lastMove.col}\"]`);\n        lastCell.classList.remove('last-move');\n    }\n\n    cell.classList.add('last-move');\n    lastMove = { row, col };\n\n    const winningCells = checkWinner(row, col, currentPlayer);\n    if (winningCells) {\n        highlightWinningCells(winningCells);\n \u00a0 \u00a0 \u00a0 \u00a0endGame(`${currentPlayer === 'P' ? 'User' : 'Computer'} wins!`);\n        return;\n    }\n\n    currentPlayer = currentPlayer === 'P' ? 'C' : 'P';\n\n    if (currentPlayer === 'C') {\n        setTimeout(computerMove, 500);\n    }\n}\n\n\/\/ AI \ub85c\uc9c1\nfunction computerMove() {\n    if (gameOver) return;\n\n    let bestMove = getBestMove();\n    if (bestMove) {\n        makeMove(bestMove.row, bestMove.col);\n    }\n}\n\nfunction evaluateMove(row, col, player) {\n    let score = 0;\n    const directions = [\n        { x: 1, y: 0 }, { x: 0, y: 1 }, { x: 1, y: 1 }, { x: 1, y: -1 }\n    ];\n\n    for (const { x, y } of directions) {\n        let count = 1;\n        let open = 0;\n        let blocked = 0;\n\n        for (let i = 1; i < 6; i++) {\n            const newRow = row + i * y;\n            const newCol = col + i * x;\n            if (newRow < 0 || newRow >= boardSize || newCol < 0 || newCol >= boardSize) {\n                blocked++;\n                break;\n            }\n            if (board[newRow][newCol] === player) count++;\n            else if (board[newRow][newCol] === null) {\n                open++;\n                break;\n            } else {\n                blocked++;\n                break;\n            }\n        }\n\n        for (let i = 1; i < 6; i++) {\n            const newRow = row - i * y;\n            const newCol = col - i * x;\n            if (newRow < 0 || newRow >= boardSize || newCol < 0 || newCol >= boardSize) {\n                blocked++;\n                break;\n            }\n            if (board[newRow][newCol] === player) count++;\n            else if (board[newRow][newCol] === null) {\n                open++;\n                break;\n            } else {\n                blocked++;\n                break;\n            }\n        }\n\n        if (count >= 5) score += 1000000;\n        else if (count === 4 && open === 2) score += 500000;\n        else if (count === 4 && open === 1) score += 100000;\n        else if (count === 3 && open === 2) score += 50000;\n        else if (count === 3 && open === 1) score += 10000;\n        else if (count === 2 && open === 2) score += 5000;\n        else if (count === 2 && open === 1) score += 1000;\n        else if (count === 1 && open === 2) score += 500;\n\n        \/\/ Defensive scoring\n        if (player === 'P') {\n            if (count === 4 && open === 1) score += 90000;\n            else if (count === 3 && open === 2) score += 40000;\n        }\n    }\n\n    return score;\n}\n\nfunction getBestMove() {\n    let bestMove = null;\n    let maxScore = -Infinity;\n\n    for (let row = 0; row < boardSize; row++) {\n        for (let col = 0; col < boardSize; col++) {\n            if (!board[row][col]) {\n                let attackScore = evaluateMove(row, col, 'C');\n                let defenseScore = evaluateMove(row, col, 'P');\n\n                let score = attackScore + defenseScore * 0.9;\n\n                if (score > maxScore) {\n                    maxScore = score;\n                    bestMove = { row, col };\n                }\n            }\n        }\n    }\n\n    return bestMove;\n}\n\n\/\/ \uc2b9\ub9ac \ud655\uc778\nfunction checkWinner(row, col, player) {\n    const directions = [\n        { x: 1, y: 0 }, { x: 0, y: 1 }, { x: 1, y: 1 }, { x: 1, y: -1 }\n    ];\n\n    for (const { x, y } of directions) {\n        let count = 1;\n        let cells = [{ row, col }];\n\n        for (let i = 1; i < 5; i++) {\n            const newRow = row + i * y;\n            const newCol = col + i * x;\n            if (newRow < 0 || newRow >= boardSize || newCol < 0 || newCol >= boardSize || board[newRow][newCol] !== player) {\n                break;\n            }\n            count++;\n            cells.push({ row: newRow, col: newCol });\n        }\n\n        for (let i = 1; i < 5; i++) {\n            const newRow = row - i * y;\n            const newCol = col - i * x;\n            if (newRow < 0 || newRow >= boardSize || newCol < 0 || newCol >= boardSize || board[newRow][newCol] !== player) {\n                break;\n            }\n            count++;\n            cells.push({ row: newRow, col: newCol });\n        }\n\n        if (count >= 5) {\n            return cells;\n        }\n    }\n    return null;\n}\n\n\/\/ UI \uc5c5\ub370\uc774\ud2b8\nfunction highlightWinningCells(cells) {\n    cells.forEach(({ row, col }) => {\n        const cell = document.querySelector(`[data-row=\"${row}\"][data-col=\"${col}\"]`);\n        cell.classList.add('winning-move');\n    });\n}\n\nfunction endGame(message) {\n    gameOver = true;\n    messageElement.textContent = message;\n    restartButton.style.display = 'block';\n}\n\n\/\/ \uac8c\uc784 \uc7ac\uc2dc\uc791\nfunction restartGame() {\n    board = Array(boardSize).fill(null).map(() => Array(boardSize).fill(null));\n    currentPlayer = 'P';\n    gameOver = false;\n    lastMove = null;\n    messageElement.textContent = '';\n    restartButton.style.display = 'none';\n    boardElement.style.display = 'grid';\n    startButton.style.display = 'none';\n    createBoard();\n}\n\nfunction updateStoneColors() {\n    document.querySelectorAll('.stone').forEach(stone => {\n        if (stone.classList.contains('black')) {\n            stone.style.setProperty('background-color', '#000', 'important');\n        } else if (stone.classList.contains('white')) {\n            stone.style.setProperty('background-color', '#fff', 'important');\n        }\n    });\n}\n\nfunction detectColorSchemeChange() {\n    const observer = new MutationObserver((mutations) => {\n        mutations.forEach((mutation) => {\n            if (mutation.type === 'attributes' && mutation.attributeName === 'class') {\n                updateStoneColors();\n            }\n        });\n    });\n\n    observer.observe(document.body, {\n        attributes: true,\n        attributeFilter: ['class']\n    });\n}\n\nfunction startColorUpdateInterval() {\n    setInterval(updateStoneColors, 100); \/\/ 100ms\ub9c8\ub2e4 \uc0c9\uc0c1 \uc5c5\ub370\uc774\ud2b8\n}\n\n\/\/ \uac8c\uc784 \uc2dc\uc791\nfunction startGame() {\n    startButton.style.display = 'none';\n    boardElement.style.display = 'grid';\n    createBoard();\n    detectColorSchemeChange();\n    startColorUpdateInterval();\n}\n\n\/\/ \uc774\ubca4\ud2b8 \ub9ac\uc2a4\ub108\nrestartButton.addEventListener('click', restartGame);\nstartButton.addEventListener('click', startGame);\n\n\/\/ \ucd08\uae30 \uc124\uc815\nstartButton.style.display = 'block';\n    <\/script>\n<\/body>\n<\/html>\n\n\n\n<div style=\"height:29px\" aria-hidden=\"true\" class=\"wp-block-spacer\"><\/div>\n\n\n\n<div class=\"wp-block-group is-content-justification-center is-nowrap is-layout-flex wp-container-core-group-is-layout-1 wp-block-group-is-layout-flex\" style=\"padding-right:var(--wp--preset--spacing--30);padding-left:var(--wp--preset--spacing--30)\">\n<p class=\"has-text-align-center\">&#8220;This is the first outcome of our project.<br>More deliverables (in preparation), <a href=\"https:\/\/offlineobserver.local\/introduction-to-the-offline-project\/\" data-type=\"post\" data-id=\"123\">see our vision<\/a><\/p>\n<\/div>\n\n\n\n<div style=\"height:9px\" aria-hidden=\"true\" class=\"wp-block-spacer\"><\/div>\n","protected":false},"excerpt":{"rendered":"<p>GOMOKU Gomoku Game START RESTART &#8220;This is the first outcome of our project.More deliverables (in preparation), see our vision<\/p>\n","protected":false},"author":1,"featured_media":0,"parent":0,"menu_order":0,"comment_status":"closed","ping_status":"closed","template":"","meta":{"_kad_post_transparent":"","_kad_post_title":"hide","_kad_post_layout":"left","_kad_post_sidebar_id":"","_kad_post_content_style":"unboxed","_kad_post_vertical_padding":"default","_kad_post_feature":"","_kad_post_feature_position":"","_kad_post_header":false,"_kad_post_footer":false,"footnotes":""},"class_list":["post-6","page","type-page","status-publish","hentry"],"_links":{"self":[{"href":"https:\/\/offlineobserver.local\/wp-json\/wp\/v2\/pages\/6"}],"collection":[{"href":"https:\/\/offlineobserver.local\/wp-json\/wp\/v2\/pages"}],"about":[{"href":"https:\/\/offlineobserver.local\/wp-json\/wp\/v2\/types\/page"}],"author":[{"embeddable":true,"href":"https:\/\/offlineobserver.local\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/offlineobserver.local\/wp-json\/wp\/v2\/comments?post=6"}],"version-history":[{"count":38,"href":"https:\/\/offlineobserver.local\/wp-json\/wp\/v2\/pages\/6\/revisions"}],"predecessor-version":[{"id":400,"href":"https:\/\/offlineobserver.local\/wp-json\/wp\/v2\/pages\/6\/revisions\/400"}],"wp:attachment":[{"href":"https:\/\/offlineobserver.local\/wp-json\/wp\/v2\/media?parent=6"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}